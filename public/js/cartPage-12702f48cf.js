var taxRate=.05,shippingRate=15,fadeTime=300;function recalculateCart(){var t=0,e=($(".product").each(function(){t+=parseFloat($(this).children(".product-line-price").text())}),t*taxRate),a=0<t?shippingRate:0,i=t+e+a;$(".totals-value").fadeOut(fadeTime,function(){$("#cart-subtotal").html(t.toFixed(2)),$("#cart-tax").html(e.toFixed(2)),$("#cart-shipping").html(a.toFixed(2)),$("#cart-total").html(i.toFixed(2)),0==i?$(".checkout").fadeOut(fadeTime):$(".checkout").fadeIn(fadeTime),$(".totals-value").fadeIn(fadeTime)})}function updateQuantity(t){var e=$(t).parent().parent(),a=parseFloat(e.children(".product-price").text())*$(t).val();e.children(".product-line-price").each(function(){$(this).fadeOut(fadeTime,function(){$(this).text(a.toFixed(2)),recalculateCart(),$(this).fadeIn(fadeTime)})})}function removeItem(t){var e=$(t).parent().parent();e.slideUp(fadeTime,function(){e.remove(),recalculateCart()})}$(".product-quantity input").change(function(){updateQuantity(this)}),$(".product-removal button").click(function(){removeItem(this)});